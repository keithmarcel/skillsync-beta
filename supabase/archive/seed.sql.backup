-- SkillSync Database Seed Data
-- This file populates the database with comprehensive test data matching the documented data structure

-- Clear existing data (in reverse dependency order)
DELETE FROM assessment_skill_results;
DELETE FROM quiz_responses;
DELETE FROM quiz_questions;
DELETE FROM quiz_sections;
DELETE FROM quizzes;
DELETE FROM resume_features;
DELETE FROM assessments;
DELETE FROM favorites;
DELETE FROM feedback;
DELETE FROM job_skills;
DELETE FROM program_skills;
DELETE FROM skill_aliases;
DELETE FROM company_job_openings;
DELETE FROM jobs;
DELETE FROM companies;
DELETE FROM programs;
DELETE FROM schools;
DELETE FROM cip_soc_crosswalk;
DELETE FROM cip_codes;
DELETE FROM skills;
DELETE FROM profiles;

-- Insert Skills (foundational data)
INSERT INTO skills (id, name, onet_id, category, description, lightcast_id, source, source_version) VALUES
('550e8400-e29b-41d4-a716-446655440001', 'JavaScript Programming', '15-1252.00', 'Technical', 'Programming in JavaScript for web development', 'KS120676', 'ONET/LIGHTCAST', '28.2'),
('550e8400-e29b-41d4-a716-446655440002', 'React Framework', '15-1252.00', 'Technical', 'Building user interfaces with React', 'KS1275B6', 'ONET/LIGHTCAST', '28.2'),
('550e8400-e29b-41d4-a716-446655440003', 'Node.js Development', '15-1252.00', 'Technical', 'Server-side JavaScript development', 'KS127C89', 'ONET/LIGHTCAST', '28.2'),
('550e8400-e29b-41d4-a716-446655440004', 'Database Management', '15-1241.00', 'Technical', 'Managing and querying databases', 'KS120A45', 'ONET/LIGHTCAST', '28.2'),
('550e8400-e29b-41d4-a716-446655440005', 'Project Management', '11-9021.00', 'Soft Skills', 'Planning and executing projects', 'KS440156', 'ONET/LIGHTCAST', '28.2'),
('550e8400-e29b-41d4-a716-446655440006', 'Communication', '11-9021.00', 'Soft Skills', 'Effective verbal and written communication', 'KS440789', 'ONET/LIGHTCAST', '28.2'),
('550e8400-e29b-41d4-a716-446655440007', 'Problem Solving', '11-9021.00', 'Soft Skills', 'Analytical thinking and problem resolution', 'KS441234', 'ONET/LIGHTCAST', '28.2'),
('550e8400-e29b-41d4-a716-446655440008', 'Python Programming', '15-1252.00', 'Technical', 'Programming in Python for various applications', 'KS120677', 'ONET/LIGHTCAST', '28.2'),
('550e8400-e29b-41d4-a716-446655440009', 'Data Analysis', '15-1211.00', 'Technical', 'Analyzing and interpreting data', 'KS125678', 'ONET/LIGHTCAST', '28.2'),
('550e8400-e29b-41d4-a716-446655440010', 'Machine Learning', '15-1211.00', 'Technical', 'Developing ML models and algorithms', 'KS125679', 'ONET/LIGHTCAST', '28.2');

-- Insert CIP Codes
INSERT INTO cip_codes (cip_code, title, level) VALUES
('11.0701', 'Computer Science', 'Bachelor'),
('11.0801', 'Web Page, Digital/Multimedia and Information Resources Design', 'Bachelor'),
('52.0201', 'Business Administration and Management, General', 'Bachelor'),
('14.0901', 'Computer Engineering, General', 'Bachelor');

-- Insert CIP-SOC Crosswalk
INSERT INTO cip_soc_crosswalk (cip_code, soc_code, source) VALUES
('11.0701', '15-1252.00', 'ONET'),
('11.0801', '15-1134.00', 'ONET'),
('52.0201', '11-9021.00', 'ONET'),
('14.0901', '17-2061.00', 'ONET');

-- Insert Companies
INSERT INTO companies (id, name, logo_url, is_trusted_partner, hq_city, hq_state, revenue_range, employee_range, industry, bio) VALUES
('660e8400-e29b-41d4-a716-446655440001', 'BayCareTech', '/companies/Baycare.svg', true, 'Clearwater', 'FL', '$1B+', '10000+', 'Healthcare', 'Leading healthcare system providing comprehensive medical services and innovative patient care solutions across the Tampa Bay region.'),
('660e8400-e29b-41d4-a716-446655440002', 'Honeywell Aerospace', '/companies/Honeywell.svg', true, 'Clearwater', 'FL', '$1B+', '5000-10000', 'Aerospace', 'Global leader in aerospace technologies, providing advanced solutions for commercial and defense applications.'),
('660e8400-e29b-41d4-a716-446655440003', 'Florida Health Partners', '/companies/Baycare.svg', true, 'St. Petersburg', 'FL', '$1B+', '5000-10000', 'Healthcare', 'Comprehensive healthcare network offering medical services, research, and community health programs throughout Florida.'),
('660e8400-e29b-41d4-a716-446655440004', 'Jabil Inc.', '/companies/Jabil.svg', true, 'St. Petersburg', 'FL', '$1B+', '10000+', 'Manufacturing', 'Global manufacturing services company providing comprehensive design, manufacturing, and supply chain solutions.'),
('660e8400-e29b-41d4-a716-446655440005', 'Raymond James Financial', '/companies/raymondjames.svg', true, 'St. Petersburg', 'FL', '$1B+', '5000-10000', 'Financial Services', 'Leading investment services firm providing financial planning, wealth management, and investment banking services.');

-- Insert Schools
INSERT INTO schools (id, name, logo_url, about_url, city, state) VALUES
('770e8400-e29b-41d4-a716-446655440001', 'University of South Florida', '/schools/USF.svg', 'https://www.usf.edu/about/', 'Tampa', 'FL'),
('770e8400-e29b-41d4-a716-446655440002', 'Pinellas Technical College', '/schools/ptec.png', 'https://www.myptec.edu/about/', 'St. Petersburg', 'FL'),
('770e8400-e29b-41d4-a716-446655440003', 'St. Petersburg College', '/schools/spc.svg', 'https://www.spcollege.edu/about/', 'St. Petersburg', 'FL');

-- Insert Jobs with Pinellas Top 30 High-Demand Occupations from CSV
-- ðŸš¨ API INTEGRATION NEEDED: median_wage_usd, long_desc, projected_openings, growth_outlook
INSERT INTO jobs (id, job_kind, title, soc_code, category, long_desc, median_wage_usd, job_type, location_city, location_state) VALUES
-- Rank 1: General & Operations Managers
('880e8400-e29b-41d4-a716-446655440001', 'occupation', 'General & Operations Managers', '11-1021', 'Business', 'API_NEEDED: Long description from O*NET', NULL, 'Full-time', 'Pinellas County', 'FL'),
-- Rank 2: Bookkeeping, Accounting & Auditing Clerks  
('880e8400-e29b-41d4-a716-446655440002', 'occupation', 'Bookkeeping, Accounting & Auditing Clerks', '43-3031', 'Finance & Legal', 'API_NEEDED: Long description from O*NET', NULL, 'Full-time', 'Pinellas County', 'FL'),
-- Rank 3: Registered Nurses
('880e8400-e29b-41d4-a716-446655440003', 'occupation', 'Registered Nurses', '29-1141', 'Health & Education', 'API_NEEDED: Long description from O*NET', NULL, 'Full-time', 'Pinellas County', 'FL'),
-- Rank 4: Sales Representatives of Services (except advertising, insurance, financial, travel)
('880e8400-e29b-41d4-a716-446655440004', 'occupation', 'Sales Representatives of Services (except advertising, insurance, financial, travel)', '41-3091', 'Business', 'API_NEEDED: Long description from O*NET', NULL, 'Full-time', 'Pinellas County', 'FL'),
-- Rank 5: Heavy & Tractor-Trailer Truck Drivers
('880e8400-e29b-41d4-a716-446655440005', 'occupation', 'Heavy & Tractor-Trailer Truck Drivers', '53-3032', 'Logistics', 'API_NEEDED: Long description from O*NET', NULL, 'Full-time', 'Pinellas County', 'FL'),
-- Rank 6: Accountants & Auditors
('880e8400-e29b-41d4-a716-446655440006', 'occupation', 'Accountants & Auditors', '13-2011', 'Finance & Legal', 'API_NEEDED: Long description from O*NET', NULL, 'Full-time', 'Pinellas County', 'FL'),
-- Rank 7: Management Analysts
('880e8400-e29b-41d4-a716-446655440007', 'occupation', 'Management Analysts', '13-1111', 'Business', 'API_NEEDED: Long description from O*NET', NULL, 'Full-time', 'Pinellas County', 'FL'),
-- Rank 8: First-Line Supervisors of Office & Administrative Support Workers
('880e8400-e29b-41d4-a716-446655440008', 'occupation', 'First-Line Supervisors of Office & Administrative Support Workers', '43-1011', 'Business', 'API_NEEDED: Long description from O*NET', NULL, 'Full-time', 'Pinellas County', 'FL'),
-- Rank 9: Software Developers
('880e8400-e29b-41d4-a716-446655440009', 'occupation', 'Software Developers', '15-1252', 'Tech & Services', 'API_NEEDED: Long description from O*NET', NULL, 'Full-time', 'Pinellas County', 'FL'),
-- Rank 10: Sales Representatives, Wholesale & Manufacturing (except technical & scientific products)
('880e8400-e29b-41d4-a716-446655440010', 'occupation', 'Sales Representatives, Wholesale & Manufacturing (except technical & scientific products)', '41-4012', 'Business', 'API_NEEDED: Long description from O*NET', NULL, 'Full-time', 'Pinellas County', 'FL'),
-- Rank 11: Insurance Sales Agents
('880e8400-e29b-41d4-a716-446655440011', 'occupation', 'Insurance Sales Agents', '41-3021', 'Business', 'API_NEEDED: Long description from O*NET', NULL, 'Full-time', 'Pinellas County', 'FL'),
-- Rank 12: Market Research Analysts & Marketing Specialists
('880e8400-e29b-41d4-a716-446655440012', 'occupation', 'Market Research Analysts & Marketing Specialists', '13-1161', 'Business', 'API_NEEDED: Long description from O*NET', NULL, 'Full-time', 'Pinellas County', 'FL'),
-- Rank 13: First-Line Supervisors of Retail Sales Workers
('880e8400-e29b-41d4-a716-446655440013', 'occupation', 'First-Line Supervisors of Retail Sales Workers', '41-1011', 'Business', 'API_NEEDED: Long description from O*NET', NULL, 'Full-time', 'Pinellas County', 'FL'),
-- Rank 14: Business Operations Specialists, All Other
('880e8400-e29b-41d4-a716-446655440014', 'occupation', 'Business Operations Specialists, All Other', '13-1199', 'Business', 'API_NEEDED: Long description from O*NET', NULL, 'Full-time', 'Pinellas County', 'FL'),
-- Rank 15: Human Resources Specialists
('880e8400-e29b-41d4-a716-446655440015', 'occupation', 'Human Resources Specialists', '13-1071', 'Business', 'API_NEEDED: Long description from O*NET', NULL, 'Full-time', 'Pinellas County', 'FL'),
-- Rank 16: Project Management Specialists
('880e8400-e29b-41d4-a716-446655440016', 'occupation', 'Project Management Specialists', '13-1082', 'Business', 'API_NEEDED: Long description from O*NET', NULL, 'Full-time', 'Pinellas County', 'FL'),
-- Rank 17: Real Estate Sales Agents
('880e8400-e29b-41d4-a716-446655440017', 'occupation', 'Real Estate Sales Agents', '41-9022', 'Business', 'API_NEEDED: Long description from O*NET', NULL, 'Full-time', 'Pinellas County', 'FL'),
-- Rank 18: First-Line Supervisors of Construction Trades & Extraction Workers
('880e8400-e29b-41d4-a716-446655440018', 'occupation', 'First-Line Supervisors of Construction Trades & Extraction Workers', '47-1011', 'Skilled Trades', 'API_NEEDED: Long description from O*NET', NULL, 'Full-time', 'Pinellas County', 'FL'),
-- Rank 19: Carpenters
('880e8400-e29b-41d4-a716-446655440019', 'occupation', 'Carpenters', '47-2031', 'Skilled Trades', 'API_NEEDED: Long description from O*NET', NULL, 'Full-time', 'Pinellas County', 'FL'),
-- Rank 20: Computer User Support Specialists
('880e8400-e29b-41d4-a716-446655440020', 'occupation', 'Computer User Support Specialists', '15-1232', 'Tech & Services', 'API_NEEDED: Long description from O*NET', NULL, 'Full-time', 'Pinellas County', 'FL'),
-- Rank 21: Claims Adjusters, Examiners, & Investigators
('880e8400-e29b-41d4-a716-446655440021', 'occupation', 'Claims Adjusters, Examiners, & Investigators', '13-1031', 'Finance & Legal', 'API_NEEDED: Long description from O*NET', NULL, 'Full-time', 'Pinellas County', 'FL'),
-- Rank 22: Electricians
('880e8400-e29b-41d4-a716-446655440022', 'occupation', 'Electricians', '47-2111', 'Skilled Trades', 'API_NEEDED: Long description from O*NET', NULL, 'Full-time', 'Pinellas County', 'FL'),
-- Rank 23: Managers, All Other
('880e8400-e29b-41d4-a716-446655440023', 'occupation', 'Managers, All Other', '11-9199', 'Business', 'API_NEEDED: Long description from O*NET', NULL, 'Full-time', 'Pinellas County', 'FL'),
-- Rank 24: Paralegals & Legal Assistants
('880e8400-e29b-41d4-a716-446655440024', 'occupation', 'Paralegals & Legal Assistants', '23-2011', 'Finance & Legal', 'API_NEEDED: Long description from O*NET', NULL, 'Full-time', 'Pinellas County', 'FL'),
-- Rank 25: Financial Managers
('880e8400-e29b-41d4-a716-446655440025', 'occupation', 'Financial Managers', '11-3031', 'Finance & Legal', 'API_NEEDED: Long description from O*NET', NULL, 'Full-time', 'Pinellas County', 'FL'),
-- Rank 26: Medical & Health Services Managers
('880e8400-e29b-41d4-a716-446655440026', 'occupation', 'Medical & Health Services Managers', '11-9111', 'Health & Education', 'API_NEEDED: Long description from O*NET', NULL, 'Full-time', 'Pinellas County', 'FL'),
-- Rank 27: Elementary School Teachers (except special & career/technical education)
('880e8400-e29b-41d4-a716-446655440027', 'occupation', 'Elementary School Teachers (except special & career/technical education)', '25-2021', 'Health & Education', 'API_NEEDED: Long description from O*NET', NULL, 'Full-time', 'Pinellas County', 'FL'),
-- Rank 28: Securities, Commodities & Financial Services Sales Agents
('880e8400-e29b-41d4-a716-446655440028', 'occupation', 'Securities, Commodities & Financial Services Sales Agents', '41-3031', 'Finance & Legal', 'API_NEEDED: Long description from O*NET', NULL, 'Full-time', 'Pinellas County', 'FL'),
-- Rank 29: Licensed Practical & Licensed Vocational Nurses
('880e8400-e29b-41d4-a716-446655440029', 'occupation', 'Licensed Practical & Licensed Vocational Nurses', '29-2061', 'Health & Education', 'API_NEEDED: Long description from O*NET', NULL, 'Full-time', 'Pinellas County', 'FL'),
-- Rank 30: Property, Real Estate & Community Association Managers
('880e8400-e29b-41d4-a716-446655440030', 'occupation', 'Property, Real Estate & Community Association Managers', '11-9141', 'Business', 'API_NEEDED: Long description from O*NET', NULL, 'Full-time', 'Pinellas County', 'FL');

-- Insert Programs
INSERT INTO programs (id, school_id, name, program_type, format, duration_text, short_desc, program_url, cip_code) VALUES
('990e8400-e29b-41d4-a716-446655440001', '770e8400-e29b-41d4-a716-446655440001', 'Computer Science Bachelor''s Degree', 'Degree', 'On-campus', '4 years', 'Comprehensive computer science program covering programming, algorithms, and software engineering.', 'https://www.usf.edu/engineering/cse/undergraduate/computer-science/', '11.0701'),
('990e8400-e29b-41d4-a716-446655440002', '770e8400-e29b-41d4-a716-446655440002', 'Web Development Certificate', 'Certificate', 'Hybrid', '6 months', 'Intensive program covering HTML, CSS, JavaScript, and modern web frameworks.', 'https://www.myptec.edu/programs/web-development/', '11.0801'),
('990e8400-e29b-41d4-a716-446655440003', '770e8400-e29b-41d4-a716-446655440003', 'Business Administration Associate Degree', 'Degree', 'Online', '2 years', 'Foundation in business principles, management, and organizational behavior.', 'https://www.spcollege.edu/programs/business-administration/', '52.0201'),
('990e8400-e29b-41d4-a716-446655440004', '770e8400-e29b-41d4-a716-446655440001', 'Data Analytics Certificate', 'Certificate', 'On-campus', '9 months', 'Learn statistical analysis, data visualization, and machine learning techniques.', 'https://www.usf.edu/continuing-education/programs/data-analytics/', '11.0701'),
('990e8400-e29b-41d4-a716-446655440005', '770e8400-e29b-41d4-a716-446655440002', 'Cybersecurity Specialist', 'Certificate', 'Hybrid', '12 months', 'Comprehensive cybersecurity training covering network security, ethical hacking, and compliance.', 'https://www.myptec.edu/programs/cybersecurity/', '11.0701');

-- Insert Job Skills relationships
-- ðŸš¨ API INTEGRATION NEEDED: Skills mappings for all 30 Pinellas occupations
-- Current relationships are placeholders - will be populated via O*NET Skills API
INSERT INTO job_skills (job_id, skill_id, weight) VALUES
-- Placeholder skills for General & Operations Managers (will be replaced with O*NET data)
('880e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440005', 1.0), -- Project Management
('880e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440006', 0.9), -- Communication
('880e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440007', 0.8); -- Problem Solving

-- Insert Program Skills relationships
INSERT INTO program_skills (program_id, skill_id, weight) VALUES
-- Computer Science Degree
('990e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440001', 1.0), -- JavaScript
('990e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440008', 1.0), -- Python
('990e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440004', 0.9), -- Database
('990e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440007', 0.8), -- Problem Solving
-- Web Development Certificate
('990e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440001', 1.0), -- JavaScript
('990e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440002', 1.0), -- React
('990e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440003', 0.7), -- Node.js
-- Data Analytics Certificate
('990e8400-e29b-41d4-a716-446655440004', '550e8400-e29b-41d4-a716-446655440008', 1.0), -- Python
('990e8400-e29b-41d4-a716-446655440004', '550e8400-e29b-41d4-a716-446655440009', 1.0), -- Data Analysis
('990e8400-e29b-41d4-a716-446655440004', '550e8400-e29b-41d4-a716-446655440010', 0.8); -- Machine Learning

-- Note: User profiles, assessments, and favorites require authenticated users
-- These will be created when users sign up and use the application

-- Insert sample quizzes
INSERT INTO quizzes (id, job_id, estimated_minutes, version) VALUES
('a0111111-1111-1111-1111-111111111111', '880e8400-e29b-41d4-a716-446655440001', 20, 1),
('a0222222-2222-2222-2222-222222222222', '880e8400-e29b-41d4-a716-446655440004', 15, 1);

-- Insert quiz sections
INSERT INTO quiz_sections (id, quiz_id, skill_id, order_index) VALUES
('b0111111-1111-1111-1111-111111111111', 'a0111111-1111-1111-1111-111111111111', '550e8400-e29b-41d4-a716-446655440001', 1),
('b0222222-2222-2222-2222-222222222222', 'a0111111-1111-1111-1111-111111111111', '550e8400-e29b-41d4-a716-446655440002', 2);

-- Insert sample quiz questions
INSERT INTO quiz_questions (id, section_id, stem, choices, answer_key, difficulty) VALUES
('d0111111-1111-1111-1111-111111111111', 'b0111111-1111-1111-1111-111111111111', 'Which of the following is a JavaScript framework?', '["React", "Python", "SQL", "HTML"]', 'React', 'easy'),
('d0222222-2222-2222-2222-222222222222', 'b0222222-2222-2222-2222-222222222222', 'What is the virtual DOM in React?', '["A copy of the real DOM", "A database", "A server", "A programming language"]', 'A copy of the real DOM', 'medium');

-- Insert skill aliases for better search
INSERT INTO skill_aliases (skill_id, alias) VALUES
('550e8400-e29b-41d4-a716-446655440001', 'JS'),
('550e8400-e29b-41d4-a716-446655440001', 'ECMAScript'),
('550e8400-e29b-41d4-a716-446655440002', 'ReactJS'),
('550e8400-e29b-41d4-a716-446655440003', 'NodeJS'),
('550e8400-e29b-41d4-a716-446655440008', 'Python3');

-- Insert company job openings
INSERT INTO company_job_openings (id, company_id, external_job_title, soc_code, apply_url, region_code) VALUES
('c0111111-1111-1111-1111-111111111111', '660e8400-e29b-41d4-a716-446655440001', 'Senior Full Stack Developer', '15-1252.00', 'https://techcorp.com/careers/senior-fullstack', 'FL-Tampa'),
('c0222222-2222-2222-2222-222222222222', '660e8400-e29b-41d4-a716-446655440002', 'Clinical Data Analyst', '15-1211.00', 'https://baycare.org/careers/data-analyst', 'FL-Clearwater');

-- Update skills count for jobs (this would normally be handled by triggers)
UPDATE jobs SET skills_count = (
    SELECT COUNT(*) FROM job_skills WHERE job_skills.job_id = jobs.id
) WHERE job_kind = 'occupation';
